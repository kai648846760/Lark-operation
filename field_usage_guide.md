# 接口自动化测试表格字段使用指南

> 基于精简后的13个核心字段，提供详细的使用说明和最佳实践

## 📊 字段总览

当前表格包含 **13个字段**，分为两类：
- **核心测试字段** (11个)：构成完整的接口测试流程
- **辅助管理字段** (2个)：用于测试管理和维护

---

## 🎯 核心测试字段详解

### 1. 接口编号 [主键]
- **类型**: 自动编号
- **填写**: 系统自动生成
- **用途**: 测试用例的唯一标识符，用于区分不同的接口测试用例
- **示例**: `1`, `2`, `3`...

### 2. 接口名称
- **类型**: 文本
- **填写**: 【必填】简要描述接口功能
- **用途**: 快速理解接口用途，便于测试用例管理
- **示例**: 
  - `用户登录接口`
  - `获取用户信息`
  - `创建订单`
  - `上传文件`

### 3. 接口路径
- **类型**: 文本
- **填写**: 【必填】API的URL路径
- **用途**: 指定要测试的接口地址
- **格式**: 支持相对路径或完整URL
- **示例**:
  ```
  # 相对路径
  /api/auth/login
  /api/user/profile
  /api/orders
  
  # 完整URL
  https://api.example.com/v1/login
  https://test-api.example.com/users
  ```
- **变量支持**: 可使用 `${env.base_url}/api/login` 语法

### 4. 请求方法
- **类型**: 单选
- **填写**: 【必填】选择HTTP方法
- **可选值**: `GET`, `POST`, `PUT`, `DELETE`, `PATCH`, `HEAD`, `OPTIONS`
- **用途**: 指定HTTP请求方法
- **常用场景**:
  - `GET`: 查询数据
  - `POST`: 创建数据、登录认证
  - `PUT`: 更新数据
  - `DELETE`: 删除数据

### 5. 请求头
- **类型**: 多行文本
- **填写**: 【可选】JSON格式的请求头
- **用途**: 设置HTTP请求头信息
- **示例**:
  ```json
  {
    "Content-Type": "application/json",
    "Authorization": "Bearer token_value",
    "User-Agent": "ApiTest/1.0",
    "Accept": "application/json",
    "X-API-Key": "your_api_key"
  }
  ```
- **常用头部**:
  - `Content-Type`: 指定请求体格式
  - `Authorization`: 身份认证信息
  - `User-Agent`: 客户端标识
  - `Accept`: 期望的响应格式

### 6. 请求体
- **类型**: 多行文本
- **填写**: 【可选】JSON格式的请求数据
- **用途**: POST/PUT请求的数据内容
- **示例**:
  ```json
  {
    "username": "test_user",
    "password": "123456",
    "remember_me": true,
    "user_info": {
      "email": "test@example.com",
      "phone": "13800138000"
    }
  }
  ```
- **注意**: GET请求通常不需要请求体

### 7. 预期状态码
- **类型**: 数字
- **填写**: 【必填】期望的HTTP状态码
- **用途**: 用于判断接口调用是否成功
- **常用状态码**:
  - `200`: 成功
  - `201`: 创建成功
  - `400`: 请求错误
  - `401`: 未授权
  - `404`: 未找到
  - `500`: 服务器错误

### 8. 响应状态码
- **类型**: 文本
- **填写**: 【系统自动填写】
- **用途**: 记录实际返回的HTTP状态码
- **说明**: 测试框架执行时自动记录，用于与预期状态码对比

### 9. 响应体
- **类型**: 多行文本
- **填写**: 【系统自动填写】
- **用途**: 记录接口实际返回的响应数据
- **格式**: JSON或文本格式
- **说明**: 测试框架执行时自动记录

### 10. 断言规则
- **类型**: 多行文本
- **填写**: 【可选】JSON格式的验证规则
- **用途**: 验证响应数据是否符合预期
- **示例**:
  ```json
  {
    "status_code": "== 200",
    "response_time": "< 1000",
    "response_json": {
      "$.code": "== '00000'",
      "$.data.token": "!= null",
      "$.data.user.username": "== 'test_user'",
      "$.message": "contains '成功'"
    }
  }
  ```
- **支持的断言类型**:
  - 状态码验证: `"status_code": "== 200"`
  - 响应时间验证: `"response_time": "< 1000"`
  - JSONPath验证: `"$.data.token": "!= null"`
  - 字符串包含: `"$.message": "contains '成功'"`

### 11. 是否通过
- **类型**: 单选
- **填写**: 【系统自动填写】
- **用途**: 记录测试执行结果
- **可能值**: `通过`, `失败`
- **判断逻辑**: 基于状态码匹配和断言规则综合判定

---

## 📝 辅助管理字段详解

### 12. 是否启用
- **类型**: 复选框
- **填写**: 【用户控制】勾选表示启用
- **用途**: 控制测试用例是否参与执行
- **使用场景**:
  - 临时禁用某些不稳定的用例
  - 分批执行测试用例
  - 调试特定接口时只启用相关用例

### 13. 备注
- **类型**: 多行文本
- **填写**: 【可选】补充说明信息
- **用途**: 记录重要信息和注意事项
- **适合记录的内容**:
  - 测试注意事项
  - 已知问题说明
  - 接口变更历史
  - 特殊测试场景说明
- **示例**:
  ```
  基础登录功能测试，验证用户名密码登录流程。
  注意：测试账号需要预先创建。
  已知问题：密码包含特殊字符时可能失败。
  ```

---

## 💡 最佳实践指南

### 字段填写顺序建议
1. **接口名称** → 先描述接口功能
2. **接口路径** → 指定接口地址
3. **请求方法** → 选择HTTP方法
4. **预期状态码** → 设置期望结果
5. **请求头/请求体** → 添加请求详情（可选）
6. **断言规则** → 设置验证规则（可选）
7. **是否启用** → 勾选启用
8. **备注** → 添加说明（可选）

### 常见使用场景

#### 场景1: 简单GET接口测试
```
接口名称: 获取用户列表
接口路径: /api/users
请求方法: GET
预期状态码: 200
请求头: {"Authorization": "Bearer token"}
断言规则: {"status_code": "== 200", "response_json": {"$.data": "!= null"}}
```

#### 场景2: POST登录接口测试
```
接口名称: 用户登录接口
接口路径: /api/auth/login
请求方法: POST
请求头: {"Content-Type": "application/json"}
请求体: {"username": "test", "password": "123456"}
预期状态码: 200
断言规则: {"response_json": {"$.data.token": "!= null"}}
```

#### 场景3: 错误场景测试
```
接口名称: 登录-密码错误
接口路径: /api/auth/login
请求方法: POST
请求头: {"Content-Type": "application/json"}
请求体: {"username": "test", "password": "wrong_password"}
预期状态码: 401
断言规则: {"response_json": {"$.code": "== '40001'"}}
```

### 注意事项

1. **JSON格式要求**:
   - 请求头、请求体、断言规则必须是有效的JSON格式
   - 使用双引号包裹字符串
   - 注意逗号和括号的匹配

2. **变量引用**:
   - 接口路径中可以使用 `${env.base_url}` 引用环境变量
   - 支持 `${var.user_id}` 引用运行时变量

3. **状态码设置**:
   - 预期状态码填写数字，如 `200`
   - 不同场景设置不同的预期状态码

4. **断言规则编写**:
   - 使用JSONPath语法访问响应数据
   - 支持多种比较操作符：`==`, `!=`, `>`, `<`, `contains`

---

## 🚀 进阶功能预览

虽然当前表格保持简洁，但框架支持以下进阶功能：

### 变量管理
- 通过配置文件管理环境变量
- 支持 `${env.variable}` 和 `${var.variable}` 语法
- 运行时动态变量设置

### 依赖管理
- 可以通过代码实现测试用例依赖
- 支持数据传递和状态依赖

### 数据驱动
- 支持外部文件提供测试数据
- 一个用例可以用多组数据执行

### 脚本扩展
- 支持前置和后置脚本
- 使用Python实现复杂的数据处理逻辑

---

## 📞 技术支持

如果在使用过程中遇到问题，可以：
1. 参考本文档的示例和最佳实践
2. 检查JSON格式是否正确
3. 确认接口路径和认证信息是否有效
4. 查看测试执行日志获取详细错误信息

---

*本指南基于精简后的13字段表格结构编写，旨在提供简洁高效的接口自动化测试体验。*